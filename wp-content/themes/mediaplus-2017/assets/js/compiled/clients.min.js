"use strict";function findAncestor(el,cls){for(;(el=el.parentElement)&&!el.classList.contains(cls););return el}function docOffset(el){var rect=el.getBoundingClientRect(),scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,scrollTop=window.pageYOffset||document.documentElement.scrollTop;return{top:rect.top+scrollTop,left:rect.left+scrollLeft}}function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(function(){timeout=null,immediate||func.apply(context,args)},wait),callNow&&func.apply(context,args)}}function fade(el,oldOpacity,newOpacity,timeLapse){el.style.opacity=oldOpacity;var last=+new Date,tick=function(){oldOpacity<newOpacity?(el.style.opacity=+el.style.opacity+(new Date-last)/timeLapse,last=+new Date,+el.style.opacity<newOpacity&&(window.requestAnimationFrame&&requestAnimationFrame(tick)||setTimeout(tick,16))):(el.style.opacity=+el.style.opacity-(new Date-last)/timeLapse,last=+new Date,+el.style.opacity>newOpacity&&(window.requestAnimationFrame&&requestAnimationFrame(tick)||setTimeout(tick,16)))};tick()}function supportedTransform(){for(var prefixes="transform WebkitTransform msTransform".split(" "),div=document.createElement("div"),i=0;i<prefixes.length;i++)if(div&&void 0!==div.style[prefixes[i]])return!0;return!1}document.documentElement.classList.remove("no-js"),document.documentElement.classList.add("js");var afterLoadTiming=200,pageBanner=document.querySelector(".page-banner__media");pageBanner&&setTimeout(function(){pageBanner.classList.add("animated")},afterLoadTiming);var bobInRows=function(){for(var scrolledTo=window.pageYOffset+window.innerHeight,buoyantRows=document.querySelectorAll(".buoyant-parent:not(.animated)"),i=0;i<buoyantRows.length;i++){var thisParent=buoyantRows[i],thisTop=thisParent.getBoundingClientRect().top;if(thisTop<window.innerHeight||scrolledTo>=document.body.clientHeight){var theseKids=thisParent.querySelectorAll(".buoyant-kid:not(.animated)");if(theseKids.length){for(var kidsInView=[],k=0;k<theseKids.length;k++){var thisKid=theseKids[k];((thisTop=thisKid.getBoundingClientRect().top)<window.innerHeight||scrolledTo>=document.body.clientHeight)&&kidsInView.push(thisKid)}for(var n=0;n<kidsInView.length;n++)kidsInView[n].classList.add("animated")}else thisParent.classList.add("animated")}}};if(document.body.classList.contains("flow")||document.body.classList.contains("blog")||(setTimeout(function(){bobInRows()},200),window.addEventListener("scroll",bobInRows,!1),window.addEventListener("touchmove",bobInRows,!1),window.addEventListener("touchend",bobInRows,!1)),supportedTransform()){var bpHeaderSmall=800,header=document.querySelector(".header"),headerTray=document.querySelector(".header__tray"),headerTrayContent=document.querySelector(".header__tray-content"),menu=document.querySelector(".header__menu"),menuContents=document.getElementById("js-menu-contents"),headerContact=document.querySelector(".header__contact"),menuBtn=document.createElement("button"),headerOverlay=document.createElement("span");menuBtn.classList.add("menu-toggle"),menuBtn.setAttribute("id","js-menu-toggle"),menuBtn.setAttribute("aria-label","Site menu"),menuBtn.setAttribute("aria-controls","js-menu"),menuBtn.innerHTML='<svg class="menu-toggle__open" role="none presentation" viewBox="0 0 33 33"><circle class="st0" fill="#E9E9E9" cx="16.5" cy="16.5" r="16"/><path class="st1" fill="#909090" d="M7 21.6h12.1v1.5H7zM7 17.7h19.1v1.5H7zM7 13.8h15.8v1.5H7zM7 9.9h19.1v1.5H7z"/></svg><svg class="menu-toggle__close" viewBox="0 0 33 33"><circle class="st0" fill="#E9E9E9" cx="16.5" cy="16.5" r="16"/><path class="st1" fill="#949494" d="M9.217 22.652L22.722 9.146l1.06 1.06-13.505 13.506z"/><path class="st1" fill="#949494" d="M9.217 10.348l1.06-1.06 13.506 13.505-1.06 1.06z"/></svg>',headerOverlay.classList.add("page-overlay"),headerOverlay.classList.add("page-overlay--header"),headerOverlay.setAttribute("role","none"),menu.setAttribute("aria-labelledby","js-menu-toggle"),window.outerWidth>bpHeaderSmall&&!document.body.classList.contains("flow")?(menuBtn.setAttribute("aria-expanded","true"),menu.removeAttribute("aria-hidden"),header.classList.add("menu-active")):menuBtn.setAttribute("aria-expanded","false"),headerTray.insertBefore(menuBtn,headerTrayContent),headerTray.insertBefore(headerOverlay,headerTrayContent);var hideMenu=function(){for(var menuItems=menu.querySelectorAll("li.visible"),i=0;i<menuItems.length;i++)menuItems[i].classList.remove("visible");window.outerWidth<=bpHeaderSmall||document.body.classList.contains("flow")?(header.classList.remove("menu-active"),fade(headerOverlay,1,0,200),setTimeout(function(){headerOverlay.style.display="none",headerOverlay.style.height="0"},200),menu.setAttribute("aria-hidden","true"),menuBtn.setAttribute("aria-expanded","false"),headerContact.setAttribute("aria-hidden","true")):sendToFlow()},sendToFlow=function(e){e&&e.preventDefault();var recentPage=localStorage.getItem("recentPage");if("home"!==recentPage&&recentPage){var recentUrl=localStorage.getItem("recentUrl");window.location.href=recentUrl}else window.location.href="/"},showMenu=function(){header.classList.add("menu-active"),headerOverlay.style.display="block",fade(headerOverlay,0,1,200),menu.removeAttribute("aria-hidden"),menuBtn.setAttribute("aria-expanded","true");var menuItems=menu.querySelectorAll("li");setTimeout(function(){for(var i=0;i<menuItems.length;i++){var thisItem=menuItems[i];showMenuItem(thisItem,400*i)}},600);var afterAll=400*(menuItems.length+1);window.outerWidth<=bpHeaderSmall&&(headerOverlay.style.height="100%",setTimeout(function(){headerContact.removeAttribute("aria-hidden"),fade(headerContact,0,1,400)},afterAll)),menu.children[0].children[0].children[0].focus()},showMenuItem=function(thisItem,thisTiming){setTimeout(function(){thisItem.classList.add("visible")},thisTiming)};menuBtn.addEventListener("click",function(){menu.classList.contains("anim-init")||menu.classList.add("anim-init"),header.classList.contains("menu-active")?hideMenu():showMenu()},!1),window.addEventListener("click",function(e){e.target==headerOverlay&&hideMenu()},!1);var resizeMenu=debounce(function(){if(window.outerWidth>bpHeaderSmall)headerContact.setAttribute("aria-hidden","true"),document.body.classList.contains("flow")||showMenu();else if(header.classList.contains("menu-active")){headerContact.removeAttribute("aria-hidden");for(var menuItems=menu.querySelectorAll("li"),i=0;i<menuItems.length;i++)menuItems[i].classList.add("visible");headerContact.removeAttribute("aria-hidden"),fade(headerContact,0,1,400)}},100);window.addEventListener("resize",resizeMenu)}var logoBtn=document.getElementById("logo-btn");logoBtn.addEventListener("mouseenter",function(){logoBtn.classList.add("pulse")},!1),logoBtn.addEventListener("mouseleave",function(){logoBtn.classList.add("pause-pulse");var teaser=logoBtn.querySelector(".teaser"),teaserWidth=teaser.offsetWidth;teaser.style.width=teaserWidth+"px",logoBtn.classList.remove("pause-pulse"),logoBtn.classList.remove("pulse"),setTimeout(function(){teaser.style.removeProperty("width")},100)},!1),document.body.classList.contains("flow")||logoBtn.addEventListener("click",sendToFlow,!1),function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.svg4everybody=b()}):"object"==typeof module&&module.exports?module.exports=b():a.svg4everybody=b()}(this,function(){function a(a,b,c){if(c){var d=document.createDocumentFragment(),e=!b.hasAttribute("viewBox")&&c.getAttribute("viewBox");e&&b.setAttribute("viewBox",e);for(var f=c.cloneNode(!0);f.childNodes.length;)d.appendChild(f.firstChild);a.appendChild(d)}}function b(b){b.onreadystatechange=function(){if(4===b.readyState){var c=b._cachedDocument;c||(c=b._cachedDocument=document.implementation.createHTMLDocument(""),c.body.innerHTML=b.responseText,b._cachedTarget={}),b._embeds.splice(0).map(function(d){var e=b._cachedTarget[d.id];e||(e=b._cachedTarget[d.id]=c.getElementById(d.id)),a(d.parent,d.svg,e)})}},b.onreadystatechange()}function d(a){for(var b=a;"svg"!==b.nodeName.toLowerCase()&&(b=b.parentNode););return b}return function(c){function e(){for(var c=0;c<o.length;){var h=o[c],i=h.parentNode,j=d(i);if(j){var k=h.getAttribute("xlink:href")||h.getAttribute("href");if(!k&&g.attributeName&&(k=h.getAttribute(g.attributeName)),f)if(!g.validate||g.validate(k,j,h)){i.removeChild(h);var l=k.split("#"),q=l.shift(),r=l.join("#");if(q.length){var s=m[q];s||((s=m[q]=new XMLHttpRequest).open("GET",q),s.send(),s._embeds=[]),s._embeds.push({parent:i,svg:j,id:r}),b(s)}else a(i,j,document.getElementById(r))}else++c,++p}else++c}(!o.length||o.length-p>0)&&n(e,67)}var f,g=Object(c),h=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,i=/\bAppleWebKit\/(\d+)\b/,j=/\bEdge\/12\.(\d+)\b/,k=/\bEdge\/.(\d+)\b/,l=window.top!==window.self;f="polyfill"in g?g.polyfill:h.test(navigator.userAgent)||(navigator.userAgent.match(j)||[])[1]<10547||(navigator.userAgent.match(i)||[])[1]<537||k.test(navigator.userAgent)&&l;var m={},n=window.requestAnimationFrame||setTimeout,o=document.getElementsByTagName("use"),p=0;f&&e()}}),svg4everybody(),function(document,window,undefined){for(var bizAttributesWrap=document.querySelector(".expertise-attributes"),bizAttributesLists=document.querySelectorAll(".expertise-attributes ul"),bizAttributes=document.querySelectorAll(".expertise-attributes li[data-attr-slug]"),resetClients=function(e){for(var activeClients=document.querySelectorAll(".client.filtered"),i=0;i<activeClients.length;i++)activeClients[i].classList.remove("filtered")},i=0;i<bizAttributes.length;i++)bizAttributes[i].addEventListener("click",function(e){var currentAttr=e.target.getAttribute("data-attr-slug");if(e.target.classList.contains("current"))resetClients(),bizAttributesWrap.classList.remove("filtered"),e.target.classList.remove("current");else{resetClients(),bizAttributesWrap.classList.add("filtered");var currentlyCurrent=bizAttributesWrap.querySelector(".current");currentlyCurrent&&currentlyCurrent.classList.remove("current"),e.target.classList.add("current");for(var detailsSections=document.querySelectorAll(".expertise-section"),i=0;i<detailsSections.length;i++)detailsSections[i].getAttribute("data-clientAttr").indexOf(currentAttr)>-1&&findAncestor(detailsSections[i],"client").classList.add("filtered")}},!1);for(i=0;i<bizAttributesLists.length;i++){var thisList=bizAttributesLists[i];thisList.addEventListener("mouseenter",function(){bizAttributesWrap.classList.add("active")},!1),thisList.addEventListener("mouseleave",function(){bizAttributesWrap.classList.remove("active")},!1)}if(void 0!==window.matchMedia||void 0!==window.msMatchMedia){document.querySelectorAll(".client");for(var clientDetails=document.querySelectorAll(".client__details"),collapsedSizing=function(theseDetails){if(window.outerWidth<=1200)theseDetails.style.height=0;else{for(var theseDetailLists=theseDetails.querySelectorAll(".client__details-list li:first-child"),newHeight=0,k=0;k<theseDetailLists.length;k++)newHeight<theseDetailLists[k].offsetHeight&&(newHeight=theseDetailLists[k].offsetHeight);theseDetails.style.height=newHeight+"px"}},expandedSizing=function(theseDetails){theseDetails.style.height=theseDetails.querySelector(".client__details-interior").offsetHeight+"px"},toggleBtns=document.querySelectorAll(".row-toggle"),i=0;i<toggleBtns.length;i++)toggleBtns[i].style.display="block",toggleBtns[i].addEventListener("click",function(e){var btn=e.currentTarget,client=findAncestor(btn,"client"),clientDetails=client.querySelector(".client__details"),moreLink=client.querySelector(".more-link");"true"===btn.getAttribute("aria-expanded")?(btn.setAttribute("aria-expanded","false"),client.classList.remove("expanded"),collapsedSizing(clientDetails),clientDetails.setAttribute("aria-hidden",!0),moreLink&&moreLink.setAttribute("tabindex","-1")):(btn.setAttribute("aria-expanded","true"),client.classList.add("expanded"),expandedSizing(clientDetails),clientDetails.removeAttribute("aria-hidden"),moreLink&&moreLink.removeAttribute("tabindex"))},!1);for(i=0;i<clientDetails.length;i++){var theseDetails=clientDetails[i],moreLink=theseDetails.querySelector(".more-link");theseDetails.setAttribute("aria-hidden",!0),moreLink&&moreLink.setAttribute("tabindex","-1"),collapsedSizing(theseDetails)}window.addEventListener("resize",function(){for(var i=0;i<clientDetails.length;i++){var theseDetails=clientDetails[i];findAncestor(theseDetails,"client").classList.contains("expanded")?expandedSizing(theseDetails):collapsedSizing(theseDetails)}})}}(document,window);
//# sourceMappingURL=clients.min.js.map